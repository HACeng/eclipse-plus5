commit 09c3f545375b31028657f0b8044c5cbcb5324abc
Author: David Audel <daudel>
Date:   Mon Feb 25 16:09:52 2008 +0000

    HEAD - bug 202467

3	2	org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/parser/CompletionParserTest.java
52	37	org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/parser/CompletionParserTestKeyword.java
12	7	org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/parser/FieldAccessCompletionTest.java
654	128	org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/CompletionContextTests.java
107	25	org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/CompletionContextTests_1_5.java
8	4	org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/CompletionTests.java
23	0	org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/CompletionTestsRequestor2.java
2	1	org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/CompletionTests_1_5.java
112	56	org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/JavadocCompletionContextTests.java
8	4	org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/JavadocCompletionContextTests_1_5.java
8	4	org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/SnippetCompletionContextTests.java
81	1	org.eclipse.jdt.core/buildnotes_jdt-core.html
55	0	org.eclipse.jdt.core/codeassist/org/eclipse/jdt/internal/codeassist/CompletionEngine.java
5	0	org.eclipse.jdt.core/codeassist/org/eclipse/jdt/internal/codeassist/InternalCompletionContext.java
1	0	org.eclipse.jdt.core/codeassist/org/eclipse/jdt/internal/codeassist/complete/CompletionOnSingleNameReference.java
113	24	org.eclipse.jdt.core/codeassist/org/eclipse/jdt/internal/codeassist/complete/CompletionParser.java
73	0	org.eclipse.jdt.core/model/org/eclipse/jdt/core/CompletionContext.java
diff --git a/org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/parser/CompletionParserTest.java b/org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/parser/CompletionParserTest.java
index ce90495..1410159 100644
--- a/org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/parser/CompletionParserTest.java
+++ b/org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/parser/CompletionParserTest.java
@@ -2261,7 +2261,7 @@ public void testH() {
 		"  public H() {\n" + 
 		"  }\n" + 
 		"  void foo(boolean bbbb) {\n" + 
-		"    <CompleteOnName:Xbm>;\n" + 
+		"    while (<CompleteOnName:Xbm>)      ;\n" + 
 		"  }\n" + 
 		"  void bar() {\n" + 
 		"  }\n" + 
@@ -3288,7 +3288,8 @@ public void testL_3() {
 		"  void foo() {\n" + 
 		"    x.y.Z[] field1;\n" + 
 		"    x.y.Z[] field2;\n" + 
-		"    <CompleteOnName:int>;\n" + 
+		"    if (<CompleteOnName:int>)\n" + 
+		"        ;\n" + 
 		"  }\n" + 
 		"}\n";
 
diff --git a/org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/parser/CompletionParserTestKeyword.java b/org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/parser/CompletionParserTestKeyword.java
index e27dea0..2ddbcee 100644
--- a/org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/parser/CompletionParserTestKeyword.java
+++ b/org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/parser/CompletionParserTestKeyword.java
@@ -4200,7 +4200,7 @@ public void test0093_Method(){
 	int cursorLocation = str.lastIndexOf("try") + completeBehind.length() - 1;
 
 	String expectedCompletionNodeToString = "<CompleteOnName:try>";
-	String expectedParentNodeToString = "<NONE>";
+	String expectedParentNodeToString = "if (<CompleteOnName:try>)\n    ;";
 	String completionIdentifier = "try";
 	String expectedReplacedSource = "try";
 	String expectedUnitDisplayString =
@@ -4208,7 +4208,8 @@ public void test0093_Method(){
 			"  public X() {\n" +
 			"  }\n" +
 			"  void foo() {\n" +
-			"    <CompleteOnName:try>;\n" +
+			"    if (<CompleteOnName:try>)\n" + 
+			"        ;\n" + 
 			"  }\n" +
 			"}\n";
 	
@@ -4273,7 +4274,7 @@ public void test0094_Method(){
 	int cursorLocation = str.lastIndexOf("do") + completeBehind.length() - 1;
 
 	String expectedCompletionNodeToString = "<CompleteOnName:do>";
-	String expectedParentNodeToString = "<NONE>";
+	String expectedParentNodeToString = "if (<CompleteOnName:do>)\n    ;";
 	String completionIdentifier = "do";
 	String expectedReplacedSource = "do";
 	String expectedUnitDisplayString =
@@ -4281,7 +4282,8 @@ public void test0094_Method(){
 			"  public X() {\n" +
 			"  }\n" +
 			"  void foo() {\n" +
-			"    <CompleteOnName:do>;\n" +
+			"    if (<CompleteOnName:do>)\n" + 
+			"        ;\n" + 
 			"  }\n" +
 			"}\n";
 	
@@ -4346,7 +4348,7 @@ public void test0095_Method(){
 	int cursorLocation = str.lastIndexOf("for") + completeBehind.length() - 1;
 
 	String expectedCompletionNodeToString = "<CompleteOnName:for>";
-	String expectedParentNodeToString = "<NONE>";
+	String expectedParentNodeToString = "if (<CompleteOnName:for>)\n    ;";
 	String completionIdentifier = "for";
 	String expectedReplacedSource = "for";
 	String expectedUnitDisplayString =
@@ -4354,7 +4356,8 @@ public void test0095_Method(){
 			"  public X() {\n" +
 			"  }\n" +
 			"  void foo() {\n" +
-			"    <CompleteOnName:for>;\n" +
+			"    if (<CompleteOnName:for>)\n" + 
+			"        ;\n" + 
 			"  }\n" +
 			"}\n";
 	
@@ -4419,7 +4422,7 @@ public void test0096_Method(){
 	int cursorLocation = str.lastIndexOf("if") + completeBehind.length() - 1;
 
 	String expectedCompletionNodeToString = "<CompleteOnName:if>";
-	String expectedParentNodeToString = "<NONE>";
+	String expectedParentNodeToString = "if (<CompleteOnName:if>)\n    ;";
 	String completionIdentifier = "if";
 	String expectedReplacedSource = "if";
 	String expectedUnitDisplayString =
@@ -4427,7 +4430,8 @@ public void test0096_Method(){
 			"  public X() {\n" +
 			"  }\n" +
 			"  void foo() {\n" +
-			"    <CompleteOnName:if>;\n" +
+			"    if (<CompleteOnName:if>)\n" + 
+			"        ;\n" + 
 			"  }\n" +
 			"}\n";
 	
@@ -4492,16 +4496,17 @@ public void test0097_Method(){
 	int cursorLocation = str.lastIndexOf("swi") + completeBehind.length() - 1;
 
 	String expectedCompletionNodeToString = "<CompleteOnName:swi>";
-	String expectedParentNodeToString = "<NONE>";
+	String expectedParentNodeToString = "if (<CompleteOnName:swi>)\n    ;";
 	String completionIdentifier = "swi";
 	String expectedReplacedSource = "swi";
 	String expectedUnitDisplayString =
-			"public class X {\n" +
-			"  public X() {\n" +
-			"  }\n" +
-			"  void foo() {\n" +
-			"    <CompleteOnName:swi>;\n" +
-			"  }\n" +
+			"public class X {\n" + 
+			"  public X() {\n" + 
+			"  }\n" + 
+			"  void foo() {\n" + 
+			"    if (<CompleteOnName:swi>)\n" + 
+			"        ;\n" + 
+			"  }\n" + 
 			"}\n";
 	
 	checkMethodParse(
@@ -5065,7 +5070,7 @@ public void test0108_Method(){
 	int cursorLocation = str.lastIndexOf("whi") + completeBehind.length() - 1;
 
 	String expectedCompletionNodeToString = "<CompleteOnName:whi>";
-	String expectedParentNodeToString = "<NONE>";
+	String expectedParentNodeToString = "if (<CompleteOnName:whi>)\n    ;";
 	String completionIdentifier = "whi";
 	String expectedReplacedSource = "whi";
 	String expectedUnitDisplayString =
@@ -5073,7 +5078,8 @@ public void test0108_Method(){
 			"  public X() {\n" +
 			"  }\n" +
 			"  void foo() {\n" +
-			"    <CompleteOnName:whi>;\n" +
+			"    if (<CompleteOnName:whi>)\n" + 
+			"        ;\n" + 
 			"  }\n" +
 			"}\n";
 	
@@ -5211,7 +5217,7 @@ public void test0110_Method(){
 	int cursorLocation = str.lastIndexOf("ass") + completeBehind.length() - 1;
 
 	String expectedCompletionNodeToString = "<CompleteOnName:ass>";
-	String expectedParentNodeToString = "<NONE>";
+	String expectedParentNodeToString = "if (<CompleteOnName:ass>)\n    ;";
 	String completionIdentifier = "ass";
 	String expectedReplacedSource = "ass";
 	String expectedUnitDisplayString =
@@ -5219,7 +5225,8 @@ public void test0110_Method(){
 			"  public X() {\n" +
 			"  }\n" +
 			"  void foo() {\n" +
-			"    <CompleteOnName:ass>;\n" +
+			"    if (<CompleteOnName:ass>)\n" + 
+			"        ;\n" + 
 			"  }\n" +
 			"}\n";
 	
@@ -6513,7 +6520,7 @@ public void test0148_Method(){
 	int cursorLocation = str.lastIndexOf("syn") + completeBehind.length() - 1;
 
 	String expectedCompletionNodeToString = "<CompleteOnName:syn>";
-	String expectedParentNodeToString = "<NONE>";
+	String expectedParentNodeToString = "if (<CompleteOnName:syn>)\n    ;";
 	String completionIdentifier = "syn";
 	String expectedReplacedSource = "syn";
 	String expectedUnitDisplayString =
@@ -6521,7 +6528,7 @@ public void test0148_Method(){
 			"  public X() {\n" +
 			"  }\n" +
 			"  void foo() {\n" +
-			"    <CompleteOnName:syn>;\n" +
+			"    if (<CompleteOnName:syn>)\n        ;\n" + 
 			"  }\n" +
 			"}\n";
 	
@@ -12825,7 +12832,7 @@ public void test0287_Method(){
 	int cursorLocation = str.lastIndexOf("try") + completeBehind.length() - 1;
 
 	String expectedCompletionNodeToString = "<CompleteOnName:try>";
-	String expectedParentNodeToString = "<NONE>";
+	String expectedParentNodeToString = "if (<CompleteOnName:try>)\n    ;";
 	String completionIdentifier = "try";
 	String expectedReplacedSource = "try";
 	String expectedUnitDisplayString =
@@ -12833,7 +12840,8 @@ public void test0287_Method(){
 			"  public X() {\n" +
 			"  }\n" +
 			"  void foo() {\n" +
-			"    <CompleteOnName:try>;\n" +
+			"    if (<CompleteOnName:try>)\n" + 
+			"        ;\n" + 
 			"  }\n" +
 			"}\n";
 	
@@ -12900,7 +12908,7 @@ public void test0288_Method(){
 	int cursorLocation = str.lastIndexOf("do") + completeBehind.length() - 1;
 
 	String expectedCompletionNodeToString = "<CompleteOnName:do>";
-	String expectedParentNodeToString = "<NONE>";
+	String expectedParentNodeToString = "if (<CompleteOnName:do>)\n    ;";
 	String completionIdentifier = "do";
 	String expectedReplacedSource = "do";
 	String expectedUnitDisplayString =
@@ -12908,7 +12916,8 @@ public void test0288_Method(){
 			"  public X() {\n" +
 			"  }\n" +
 			"  void foo() {\n" +
-			"    <CompleteOnName:do>;\n" +
+			"    if (<CompleteOnName:do>)\n" + 
+			"        ;\n" + 
 			"  }\n" +
 			"}\n";
 	
@@ -12975,7 +12984,7 @@ public void test0289_Method(){
 	int cursorLocation = str.lastIndexOf("for") + completeBehind.length() - 1;
 
 	String expectedCompletionNodeToString = "<CompleteOnName:for>";
-	String expectedParentNodeToString = "<NONE>";
+	String expectedParentNodeToString = "if (<CompleteOnName:for>)\n    ;";
 	String completionIdentifier = "for";
 	String expectedReplacedSource = "for";
 	String expectedUnitDisplayString =
@@ -12983,7 +12992,8 @@ public void test0289_Method(){
 			"  public X() {\n" +
 			"  }\n" +
 			"  void foo() {\n" +
-			"    <CompleteOnName:for>;\n" +
+			"    if (<CompleteOnName:for>)\n" + 
+			"        ;\n" + 
 			"  }\n" +
 			"}\n";
 	
@@ -13050,7 +13060,7 @@ public void test0290_Method(){
 	int cursorLocation = str.lastIndexOf("if") + completeBehind.length() - 1;
 
 	String expectedCompletionNodeToString = "<CompleteOnName:if>";
-	String expectedParentNodeToString = "<NONE>";
+	String expectedParentNodeToString = "if (<CompleteOnName:if>)\n    ;";
 	String completionIdentifier = "if";
 	String expectedReplacedSource = "if";
 	String expectedUnitDisplayString =
@@ -13058,7 +13068,8 @@ public void test0290_Method(){
 			"  public X() {\n" +
 			"  }\n" +
 			"  void foo() {\n" +
-			"    <CompleteOnName:if>;\n" +
+			"    if (<CompleteOnName:if>)\n" + 
+			"        ;\n" + 
 			"  }\n" +
 			"}\n";
 	
@@ -13125,7 +13136,7 @@ public void test0291_Method(){
 	int cursorLocation = str.lastIndexOf("swi") + completeBehind.length() - 1;
 
 	String expectedCompletionNodeToString = "<CompleteOnName:swi>";
-	String expectedParentNodeToString = "<NONE>";
+	String expectedParentNodeToString = "if (<CompleteOnName:swi>)\n    ;";
 	String completionIdentifier = "swi";
 	String expectedReplacedSource = "swi";
 	String expectedUnitDisplayString =
@@ -13133,7 +13144,8 @@ public void test0291_Method(){
 			"  public X() {\n" +
 			"  }\n" +
 			"  void foo() {\n" +
-			"    <CompleteOnName:swi>;\n" +
+			"    if (<CompleteOnName:swi>)\n" + 
+			"        ;\n" + 
 			"  }\n" +
 			"}\n";
 	
@@ -13714,7 +13726,7 @@ public void test0302_Method(){
 	int cursorLocation = str.lastIndexOf("whi") + completeBehind.length() - 1;
 
 	String expectedCompletionNodeToString = "<CompleteOnName:whi>";
-	String expectedParentNodeToString = "<NONE>";
+	String expectedParentNodeToString = "if (<CompleteOnName:whi>)\n    ;";
 	String completionIdentifier = "whi";
 	String expectedReplacedSource = "whi";
 	String expectedUnitDisplayString =
@@ -13722,7 +13734,8 @@ public void test0302_Method(){
 			"  public X() {\n" +
 			"  }\n" +
 			"  void foo() {\n" +
-			"    <CompleteOnName:whi>;\n" +
+			"    if (<CompleteOnName:whi>)\n" + 
+			"        ;\n" + 
 			"  }\n" +
 			"}\n";
 	
@@ -13864,7 +13877,7 @@ public void test0304_Method(){
 	int cursorLocation = str.lastIndexOf("ass") + completeBehind.length() - 1;
 
 	String expectedCompletionNodeToString = "<CompleteOnName:ass>";
-	String expectedParentNodeToString = "<NONE>";
+	String expectedParentNodeToString = "if (<CompleteOnName:ass>)\n    ;";
 	String completionIdentifier = "ass";
 	String expectedReplacedSource = "ass";
 	String expectedUnitDisplayString =
@@ -13872,7 +13885,8 @@ public void test0304_Method(){
 			"  public X() {\n" +
 			"  }\n" +
 			"  void foo() {\n" +
-			"    <CompleteOnName:ass>;\n" +
+			"    if (<CompleteOnName:ass>)\n" + 
+			"        ;\n" + 
 			"  }\n" +
 			"}\n";
 	
@@ -15206,7 +15220,7 @@ public void test0342_Method(){
 	int cursorLocation = str.lastIndexOf("syn") + completeBehind.length() - 1;
 
 	String expectedCompletionNodeToString = "<CompleteOnName:syn>";
-	String expectedParentNodeToString = "<NONE>";
+	String expectedParentNodeToString = "if (<CompleteOnName:syn>)\n    ;";
 	String completionIdentifier = "syn";
 	String expectedReplacedSource = "syn";
 	String expectedUnitDisplayString =
@@ -15214,7 +15228,8 @@ public void test0342_Method(){
 			"  public X() {\n" +
 			"  }\n" +
 			"  void foo() {\n" +
-			"    <CompleteOnName:syn>;\n" +
+			"    if (<CompleteOnName:syn>)\n" + 
+			"        ;\n" + 
 			"  }\n" +
 			"}\n";
 	
diff --git a/org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/parser/FieldAccessCompletionTest.java b/org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/parser/FieldAccessCompletionTest.java
index c2768fa..262f36d 100644
--- a/org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/parser/FieldAccessCompletionTest.java
+++ b/org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/parser/FieldAccessCompletionTest.java
@@ -840,7 +840,7 @@ public void testDoExpression() {
 		"  Bar() {\n" + 
 		"  }\n" + 
 		"  void foo() {\n" + 
-		"    <CompleteOnMemberAccess:fred().x>;\n" + 
+		"    while (<CompleteOnMemberAccess:fred().x>)      ;\n" + 
 		"  }\n" + 
 		"}\n",
 		// expectedCompletionIdentifier:
@@ -1185,7 +1185,8 @@ public void testIfExpresionThen() {
 		"  Bar() {\n" + 
 		"  }\n" + 
 		"  void foo() {\n" + 
-		"    <CompleteOnMemberAccess:fred().x>;\n" + 
+		"    if (<CompleteOnMemberAccess:fred().x>)\n" + 
+		"        ;\n" + 
 		"  }\n" + 
 		"}\n",
 		// expectedCompletionIdentifier:
@@ -1221,7 +1222,8 @@ public void testIfExpresionThenElse() {
 		"  Bar() {\n" + 
 		"  }\n" + 
 		"  void foo() {\n" + 
-		"    <CompleteOnMemberAccess:fred().x>;\n" + 
+		"    if (<CompleteOnMemberAccess:fred().x>)\n" + 
+		"        ;\n" + 
 		"  }\n" + 
 		"}\n",
 		// expectedCompletionIdentifier:
@@ -2054,7 +2056,8 @@ public void testSwitchExpression() {
 		"  Bar() {\n" + 
 		"  }\n" + 
 		"  void foo() {\n" + 
-		"    <CompleteOnMemberAccess:fred().x>;\n" + 
+		"    switch (<CompleteOnMemberAccess:fred().x>) {\n" + 
+		"    }\n" + 
 		"  }\n" + 
 		"}\n",
 		// expectedCompletionIdentifier:
@@ -2126,7 +2129,9 @@ public void testSynchronizedStatement() {
 		"  Bar() {\n" + 
 		"  }\n" + 
 		"  void foo() {\n" + 
-		"    <CompleteOnMemberAccess:fred().x>;\n" + 
+		"    synchronized (<CompleteOnMemberAccess:fred().x>)\n" + 
+		"      {\n" + 
+		"      }\n" + 
 		"  }\n" + 
 		"}\n",
 		// expectedCompletionIdentifier:
@@ -2157,7 +2162,7 @@ public void testThrowExpression() {
 		"  Bar() {\n" + 
 		"  }\n" + 
 		"  void foo() {\n" + 
-		"    <CompleteOnMemberAccess:fred().x>;\n" + 
+		"    throw <CompleteOnMemberAccess:fred().x>;\n" + 
 		"  }\n" + 
 		"}\n",
 		// expectedCompletionIdentifier:
@@ -2378,7 +2383,7 @@ public void testWhileExpression() {
 		"  Bar() {\n" + 
 		"  }\n" + 
 		"  void foo() {\n" + 
-		"    <CompleteOnMemberAccess:fred().x>;\n" + 
+		"    while (<CompleteOnMemberAccess:fred().x>)      ;\n" + 
 		"  }\n" + 
 		"}\n",
 		// expectedCompletionIdentifier:
diff --git a/org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/CompletionContextTests.java b/org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/CompletionContextTests.java
index dca2064..15fd509 100644
--- a/org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/CompletionContextTests.java
+++ b/org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/CompletionContextTests.java
@@ -55,7 +55,8 @@ public void test0001() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location={MEMBER_START}",
 		result.context);
 }
 public void test0002() throws JavaModelException {
@@ -80,7 +81,8 @@ public void test0002() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location={MEMBER_START}",
 		result.context);
 }
 public void test0003() throws JavaModelException {
@@ -105,7 +107,8 @@ public void test0003() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location={MEMBER_START}",
 		result.context);
 }
 public void test0004() throws JavaModelException {
@@ -130,7 +133,8 @@ public void test0004() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location={MEMBER_START}",
 		result.context);
 }
 public void test0005() throws JavaModelException {
@@ -155,7 +159,8 @@ public void test0005() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location={MEMBER_START}",
 		result.context);
 }
 public void test0006() throws JavaModelException {
@@ -180,7 +185,8 @@ public void test0006() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location={MEMBER_START}",
 		result.context);
 }
 public void test0007() throws JavaModelException {
@@ -205,7 +211,8 @@ public void test0007() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location={MEMBER_START}",
 		result.context);
 }
 public void test0008() throws JavaModelException {
@@ -230,7 +237,8 @@ public void test0008() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location={MEMBER_START}",
 		result.context);
 }
 public void test0009() throws JavaModelException {
@@ -257,7 +265,8 @@ public void test0009() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location={STATEMENT_START}",
 		result.context);
 }
 public void test0010() throws JavaModelException {
@@ -284,7 +293,8 @@ public void test0010() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location={STATEMENT_START}",
 		result.context);
 }
 public void test0011() throws JavaModelException {
@@ -311,7 +321,8 @@ public void test0011() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location={STATEMENT_START}",
 		result.context);
 }
 public void test0012() throws JavaModelException {
@@ -338,7 +349,8 @@ public void test0012() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location={STATEMENT_START}",
 		result.context);
 }
 public void test0013() throws JavaModelException {
@@ -362,7 +374,8 @@ public void test0013() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0014() throws JavaModelException {
@@ -386,7 +399,8 @@ public void test0014() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0015() throws JavaModelException {
@@ -410,7 +424,8 @@ public void test0015() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0016() throws JavaModelException {
@@ -434,7 +449,8 @@ public void test0016() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0017() throws JavaModelException {
@@ -468,7 +484,8 @@ public void test0017() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0018() throws JavaModelException {
@@ -502,7 +519,8 @@ public void test0018() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0019() throws JavaModelException {
@@ -536,7 +554,8 @@ public void test0019() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0020() throws JavaModelException {
@@ -570,7 +589,8 @@ public void test0020() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0021() throws JavaModelException {
@@ -597,7 +617,8 @@ public void test0021() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0022() throws JavaModelException {
@@ -624,7 +645,8 @@ public void test0022() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0023() throws JavaModelException {
@@ -651,7 +673,8 @@ public void test0023() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0024() throws JavaModelException {
@@ -678,7 +701,8 @@ public void test0024() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0025() throws JavaModelException {
@@ -706,7 +730,8 @@ public void test0025() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0026() throws JavaModelException {
@@ -736,7 +761,8 @@ public void test0026() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0027() throws JavaModelException {
@@ -764,7 +790,8 @@ public void test0027() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0028() throws JavaModelException {
@@ -792,7 +819,8 @@ public void test0028() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0029() throws JavaModelException {
@@ -823,7 +851,8 @@ public void test0029() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0030() throws JavaModelException {
@@ -856,7 +885,8 @@ public void test0030() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0031() throws JavaModelException {
@@ -887,7 +917,8 @@ public void test0031() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0032() throws JavaModelException {
@@ -918,7 +949,8 @@ public void test0032() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0033() throws JavaModelException {
@@ -942,7 +974,8 @@ public void test0033() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0034() throws JavaModelException {
@@ -966,7 +999,8 @@ public void test0034() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0035() throws JavaModelException {
@@ -990,7 +1024,8 @@ public void test0035() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0036() throws JavaModelException {
@@ -1014,7 +1049,8 @@ public void test0036() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0037() throws JavaModelException {
@@ -1042,7 +1078,8 @@ public void test0037() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0038() throws JavaModelException {
@@ -1070,7 +1107,8 @@ public void test0038() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0039() throws JavaModelException {
@@ -1098,7 +1136,8 @@ public void test0039() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0040() throws JavaModelException {
@@ -1126,7 +1165,8 @@ public void test0040() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0041() throws JavaModelException {
@@ -1154,7 +1194,8 @@ public void test0041() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0042() throws JavaModelException {
@@ -1182,7 +1223,8 @@ public void test0042() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0043() throws JavaModelException {
@@ -1210,7 +1252,8 @@ public void test0043() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0044() throws JavaModelException {
@@ -1238,7 +1281,8 @@ public void test0044() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0045() throws JavaModelException {
@@ -1264,7 +1308,8 @@ public void test0045() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0046() throws JavaModelException {
@@ -1290,7 +1335,8 @@ public void test0046() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0047() throws JavaModelException {
@@ -1316,7 +1362,8 @@ public void test0047() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0048() throws JavaModelException {
@@ -1342,7 +1389,8 @@ public void test0048() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0049() throws JavaModelException {
@@ -1367,7 +1415,8 @@ public void test0049() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0050() throws JavaModelException {
@@ -1392,7 +1441,8 @@ public void test0050() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0051() throws JavaModelException {
@@ -1417,7 +1467,8 @@ public void test0051() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0052() throws JavaModelException {
@@ -1442,7 +1493,8 @@ public void test0052() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0053() throws JavaModelException {
@@ -1467,7 +1519,8 @@ public void test0053() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0054() throws JavaModelException {
@@ -1492,7 +1545,8 @@ public void test0054() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0055() throws JavaModelException {
@@ -1517,7 +1571,8 @@ public void test0055() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0056() throws JavaModelException {
@@ -1542,7 +1597,8 @@ public void test0056() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0057() throws JavaModelException {
@@ -1567,7 +1623,8 @@ public void test0057() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0058() throws JavaModelException {
@@ -1592,7 +1649,8 @@ public void test0058() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0059() throws JavaModelException {
@@ -1617,7 +1675,8 @@ public void test0059() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0060() throws JavaModelException {
@@ -1642,7 +1701,8 @@ public void test0060() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0061() throws JavaModelException {
@@ -1666,7 +1726,8 @@ public void test0061() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0062() throws JavaModelException {
@@ -1690,7 +1751,8 @@ public void test0062() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0063() throws JavaModelException {
@@ -1714,7 +1776,8 @@ public void test0063() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0064() throws JavaModelException {
@@ -1738,7 +1801,8 @@ public void test0064() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0065() throws JavaModelException {
@@ -1762,7 +1826,8 @@ public void test0065() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0066() throws JavaModelException {
@@ -1786,7 +1851,8 @@ public void test0066() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0067() throws JavaModelException {
@@ -1810,7 +1876,8 @@ public void test0067() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0068() throws JavaModelException {
@@ -1834,7 +1901,8 @@ public void test0068() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0069() throws JavaModelException {
@@ -1862,7 +1930,8 @@ public void test0069() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0070() throws JavaModelException {
@@ -1890,7 +1959,8 @@ public void test0070() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0071() throws JavaModelException {
@@ -1918,7 +1988,8 @@ public void test0071() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0072() throws JavaModelException {
@@ -1946,7 +2017,8 @@ public void test0072() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0073() throws JavaModelException {
@@ -1970,7 +2042,8 @@ public void test0073() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0074() throws JavaModelException {
@@ -1994,7 +2067,8 @@ public void test0074() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0075() throws JavaModelException {
@@ -2018,7 +2092,8 @@ public void test0075() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0076() throws JavaModelException {
@@ -2042,7 +2117,8 @@ public void test0076() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0077() throws JavaModelException {
@@ -2066,7 +2142,8 @@ public void test0077() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0078() throws JavaModelException {
@@ -2090,7 +2167,8 @@ public void test0078() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0079() throws JavaModelException {
@@ -2114,7 +2192,8 @@ public void test0079() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0080() throws JavaModelException {
@@ -2138,7 +2217,8 @@ public void test0080() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0081() throws JavaModelException {
@@ -2163,7 +2243,8 @@ public void test0081() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0082() throws JavaModelException {
@@ -2188,7 +2269,8 @@ public void test0082() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0083() throws JavaModelException {
@@ -2213,7 +2295,8 @@ public void test0083() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0084() throws JavaModelException {
@@ -2238,7 +2321,8 @@ public void test0084() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0085() throws JavaModelException {
@@ -2263,7 +2347,8 @@ public void test0085() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0086() throws JavaModelException {
@@ -2288,7 +2373,8 @@ public void test0086() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0087() throws JavaModelException {
@@ -2313,7 +2399,8 @@ public void test0087() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0088() throws JavaModelException {
@@ -2338,7 +2425,8 @@ public void test0088() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0089() throws JavaModelException {
@@ -2365,7 +2453,8 @@ public void test0089() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures={I}\n" +
-		"expectedTypesKeys={I}",
+		"expectedTypesKeys={I}\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0090() throws JavaModelException {
@@ -2392,7 +2481,8 @@ public void test0090() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0091() throws JavaModelException {
@@ -2419,7 +2509,8 @@ public void test0091() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures={I}\n" +
-		"expectedTypesKeys={I}",
+		"expectedTypesKeys={I}\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0092() throws JavaModelException {
@@ -2446,7 +2537,8 @@ public void test0092() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0093() throws JavaModelException {
@@ -2473,7 +2565,8 @@ public void test0093() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures={I}\n" +
-		"expectedTypesKeys={I}",
+		"expectedTypesKeys={I}\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0094() throws JavaModelException {
@@ -2500,7 +2593,8 @@ public void test0094() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0095() throws JavaModelException {
@@ -2527,7 +2621,8 @@ public void test0095() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures={I}\n" +
-		"expectedTypesKeys={I}",
+		"expectedTypesKeys={I}\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0096() throws JavaModelException {
@@ -2554,7 +2649,8 @@ public void test0096() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0097() throws JavaModelException {
@@ -2582,7 +2678,8 @@ public void test0097() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures={I}\n" +
-		"expectedTypesKeys={I}",
+		"expectedTypesKeys={I}\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0098() throws JavaModelException {
@@ -2610,7 +2707,8 @@ public void test0098() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0099() throws JavaModelException {
@@ -2638,7 +2736,8 @@ public void test0099() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures={I}\n" +
-		"expectedTypesKeys={I}",
+		"expectedTypesKeys={I}\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0100() throws JavaModelException {
@@ -2666,7 +2765,8 @@ public void test0100() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0101() throws JavaModelException {
@@ -2694,7 +2794,8 @@ public void test0101() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures={I}\n" +
-		"expectedTypesKeys={I}",
+		"expectedTypesKeys={I}\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0102() throws JavaModelException {
@@ -2722,7 +2823,8 @@ public void test0102() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0103() throws JavaModelException {
@@ -2750,7 +2852,8 @@ public void test0103() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures={I}\n" +
-		"expectedTypesKeys={I}",
+		"expectedTypesKeys={I}\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0104() throws JavaModelException {
@@ -2778,7 +2881,8 @@ public void test0104() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0105() throws JavaModelException {
@@ -2803,7 +2907,8 @@ public void test0105() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures={Ljava.lang.Object;}\n" +
-		"expectedTypesKeys={Ljava/lang/Object;}",
+		"expectedTypesKeys={Ljava/lang/Object;}\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0106() throws JavaModelException {
@@ -2828,7 +2933,8 @@ public void test0106() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures={Ljava.lang.Object;}\n" +
-		"expectedTypesKeys={Ljava/lang/Object;}",
+		"expectedTypesKeys={Ljava/lang/Object;}\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0107() throws JavaModelException {
@@ -2853,7 +2959,8 @@ public void test0107() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures={Ljava.lang.Object;}\n" +
-		"expectedTypesKeys={Ljava/lang/Object;}",
+		"expectedTypesKeys={Ljava/lang/Object;}\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0108() throws JavaModelException {
@@ -2878,7 +2985,8 @@ public void test0108() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures={Ljava.lang.Object;}\n" +
-		"expectedTypesKeys={Ljava/lang/Object;}",
+		"expectedTypesKeys={Ljava/lang/Object;}\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0109() throws JavaModelException {
@@ -2903,7 +3011,8 @@ public void test0109() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures={Ljava.lang.Object;}\n" +
-		"expectedTypesKeys={Ljava/lang/Object;}",
+		"expectedTypesKeys={Ljava/lang/Object;}\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0110() throws JavaModelException {
@@ -2928,7 +3037,8 @@ public void test0110() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures={Ljava.lang.Object;}\n" +
-		"expectedTypesKeys={Ljava/lang/Object;}",
+		"expectedTypesKeys={Ljava/lang/Object;}\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0111() throws JavaModelException {
@@ -2953,7 +3063,8 @@ public void test0111() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures={Ljava.lang.Object;}\n" +
-		"expectedTypesKeys={Ljava/lang/Object;}",
+		"expectedTypesKeys={Ljava/lang/Object;}\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0112() throws JavaModelException {
@@ -2978,7 +3089,8 @@ public void test0112() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures={Ljava.lang.Object;}\n" +
-		"expectedTypesKeys={Ljava/lang/Object;}",
+		"expectedTypesKeys={Ljava/lang/Object;}\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0113() throws JavaModelException {
@@ -3005,7 +3117,8 @@ public void test0113() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location={MEMBER_START}",
 		result.context);
 }
 public void test0114() throws JavaModelException {
@@ -3032,7 +3145,8 @@ public void test0114() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location={MEMBER_START}",
 		result.context);
 }
 public void test0115() throws JavaModelException {
@@ -3059,7 +3173,8 @@ public void test0115() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location={MEMBER_START}",
 		result.context);
 }
 public void test0116() throws JavaModelException {
@@ -3086,7 +3201,8 @@ public void test0116() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location={MEMBER_START}",
 		result.context);
 }
 public void test0117() throws JavaModelException {
@@ -3111,7 +3227,8 @@ public void test0117() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_STRING_LITERAL\n" +
 		"expectedTypesSignatures={Ljava.lang.String;}\n" +
-		"expectedTypesKeys={Ljava/lang/String;}",
+		"expectedTypesKeys={Ljava/lang/String;}\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0118() throws JavaModelException {
@@ -3136,7 +3253,8 @@ public void test0118() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_STRING_LITERAL\n" +
 		"expectedTypesSignatures={Ljava.lang.String;}\n" +
-		"expectedTypesKeys={Ljava/lang/String;}",
+		"expectedTypesKeys={Ljava/lang/String;}\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0119() throws JavaModelException {
@@ -3161,7 +3279,8 @@ public void test0119() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_STRING_LITERAL\n" +
 		"expectedTypesSignatures={Ljava.lang.String;}\n" +
-		"expectedTypesKeys={Ljava/lang/String;}",
+		"expectedTypesKeys={Ljava/lang/String;}\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0120() throws JavaModelException {
@@ -3186,7 +3305,8 @@ public void test0120() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures={Ljava.lang.String;}\n" +
-		"expectedTypesKeys={Ljava/lang/String;}",
+		"expectedTypesKeys={Ljava/lang/String;}\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0121() throws JavaModelException {
@@ -3209,7 +3329,8 @@ public void test0121() throws JavaModelException {
 		"completion token=null\n" +
 		"completion token kind=TOKEN_KIND_UNKNOWN\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0122() throws JavaModelException {
@@ -3234,7 +3355,8 @@ public void test0122() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_STRING_LITERAL\n" +
 		"expectedTypesSignatures={Ljava.lang.String;}\n" +
-		"expectedTypesKeys={Ljava/lang/String;}",
+		"expectedTypesKeys={Ljava/lang/String;}\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0123() throws JavaModelException {
@@ -3259,7 +3381,8 @@ public void test0123() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_STRING_LITERAL\n" +
 		"expectedTypesSignatures={Ljava.lang.String;}\n" +
-		"expectedTypesKeys={Ljava/lang/String;}",
+		"expectedTypesKeys={Ljava/lang/String;}\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0124() throws JavaModelException {
@@ -3284,7 +3407,8 @@ public void test0124() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_STRING_LITERAL\n" +
 		"expectedTypesSignatures={Ljava.lang.String;}\n" +
-		"expectedTypesKeys={Ljava/lang/String;}",
+		"expectedTypesKeys={Ljava/lang/String;}\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0125() throws JavaModelException {
@@ -3309,7 +3433,8 @@ public void test0125() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_STRING_LITERAL\n" +
 		"expectedTypesSignatures={Ljava.lang.String;}\n" +
-		"expectedTypesKeys={Ljava/lang/String;}",
+		"expectedTypesKeys={Ljava/lang/String;}\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0126() throws JavaModelException {
@@ -3334,7 +3459,8 @@ public void test0126() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures={Ljava.lang.String;}\n" +
-		"expectedTypesKeys={Ljava/lang/String;}",
+		"expectedTypesKeys={Ljava/lang/String;}\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0127() throws JavaModelException {
@@ -3359,7 +3485,8 @@ public void test0127() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_STRING_LITERAL\n" +
 		"expectedTypesSignatures={Ljava.lang.String;}\n" +
-		"expectedTypesKeys={Ljava/lang/String;}",
+		"expectedTypesKeys={Ljava/lang/String;}\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0128() throws JavaModelException {
@@ -3385,7 +3512,406 @@ public void test0128() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_STRING_LITERAL\n" +
 		"expectedTypesSignatures={Ljava.lang.String;}\n" +
-		"expectedTypesKeys={Ljava/lang/String;}",
+		"expectedTypesKeys={Ljava/lang/String;}\n"+
+		"completion token location=UNKNOWN",
+		result.context);
+}
+// https://bugs.eclipse.org/bugs/show_bug.cgi?id=202467
+public void test0129() throws JavaModelException {
+	this.workingCopies = new ICompilationUnit[1];
+	this.workingCopies[0] = getWorkingCopy(
+		"/Completion/src3/test/X.java",
+		"package test;\n" + 
+		"public class X {\n" + 
+		"}");
+	
+	String str = this.workingCopies[0].getSource();
+	int tokenStart = str.lastIndexOf("public");
+	int tokenEnd = tokenStart + "public".length() - 1;
+	int cursorLocation = str.lastIndexOf("public") + "public".length();
+
+	CompletionResult result = contextComplete(this.workingCopies[0], cursorLocation);
+	
+	assertResults(
+		"completion offset="+(cursorLocation)+"\n" +
+		"completion range=["+(tokenStart)+", "+(tokenEnd)+"]\n" +
+		"completion token=\"public\"\n" +
+		"completion token kind=TOKEN_KIND_NAME\n" +
+		"expectedTypesSignatures=null\n" +
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
+		result.context);
+}
+// https://bugs.eclipse.org/bugs/show_bug.cgi?id=202467
+public void test0130() throws JavaModelException {
+	this.workingCopies = new ICompilationUnit[1];
+	this.workingCopies[0] = getWorkingCopy(
+		"/Completion/src3/test/X.java",
+		"package test;\n" + 
+		"public class X {\n" + 
+		"  ZZZZ\n" + 
+		"}");
+	
+	String str = this.workingCopies[0].getSource();
+	int tokenStart = str.lastIndexOf("ZZZZ");
+	int tokenEnd = tokenStart + "ZZZZ".length() - 1;
+	int cursorLocation = str.lastIndexOf("ZZZZ") + "ZZZZ".length();
+
+	CompletionResult result = contextComplete(this.workingCopies[0], cursorLocation);
+	
+	assertResults(
+		"completion offset="+(cursorLocation)+"\n" +
+		"completion range=["+(tokenStart)+", "+(tokenEnd)+"]\n" +
+		"completion token=\"ZZZZ\"\n" +
+		"completion token kind=TOKEN_KIND_NAME\n" +
+		"expectedTypesSignatures=null\n" +
+		"expectedTypesKeys=null\n"+
+		"completion token location={MEMBER_START}",
+		result.context);
+}
+// https://bugs.eclipse.org/bugs/show_bug.cgi?id=202467
+public void test0131() throws JavaModelException {
+	this.workingCopies = new ICompilationUnit[1];
+	this.workingCopies[0] = getWorkingCopy(
+		"/Completion/src3/test/X.java",
+		"package test;\n" + 
+		"public class X {\n" + 
+		"  public ZZZZ\n" + 
+		"}");
+	
+	String str = this.workingCopies[0].getSource();
+	int tokenStart = str.lastIndexOf("ZZZZ");
+	int tokenEnd = tokenStart + "ZZZZ".length() - 1;
+	int cursorLocation = str.lastIndexOf("ZZZZ") + "ZZZZ".length();
+
+	CompletionResult result = contextComplete(this.workingCopies[0], cursorLocation);
+	
+	assertResults(
+		"completion offset="+(cursorLocation)+"\n" +
+		"completion range=["+(tokenStart)+", "+(tokenEnd)+"]\n" +
+		"completion token=\"ZZZZ\"\n" +
+		"completion token kind=TOKEN_KIND_NAME\n" +
+		"expectedTypesSignatures=null\n" +
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
+		result.context);
+}
+// https://bugs.eclipse.org/bugs/show_bug.cgi?id=202467
+public void test0132() throws JavaModelException {
+	this.workingCopies = new ICompilationUnit[1];
+	this.workingCopies[0] = getWorkingCopy(
+		"/Completion/src3/test/X.java",
+		"package test;\n" + 
+		"public class X {\n" + 
+		"  yyyy.ZZZZ\n" + 
+		"}");
+	
+	String str = this.workingCopies[0].getSource();
+	int tokenStart = -1;
+	int tokenEnd = -1;
+	int cursorLocation = str.lastIndexOf("ZZZZ") + "ZZZZ".length();
+
+	CompletionResult result = contextComplete(this.workingCopies[0], cursorLocation);
+	
+	assertResults(
+		"completion offset="+(cursorLocation)+"\n" +
+		"completion range=["+(tokenStart)+", "+(tokenEnd)+"]\n" +
+		"completion token=null\n" +
+		"completion token kind=TOKEN_KIND_UNKNOWN\n" +
+		"expectedTypesSignatures=null\n" +
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
+		result.context);
+}
+// https://bugs.eclipse.org/bugs/show_bug.cgi?id=202467
+public void test0133() throws JavaModelException {
+	this.workingCopies = new ICompilationUnit[1];
+	this.workingCopies[0] = getWorkingCopy(
+		"/Completion/src3/test/X.java",
+		"package test;\n" + 
+		"public class X {\n" + 
+		"  java.ZZZZ\n" + 
+		"}");
+	
+	String str = this.workingCopies[0].getSource();
+	int tokenStart = str.lastIndexOf("ZZZZ");
+	int tokenEnd = tokenStart + "ZZZZ".length() - 1;
+	int cursorLocation = str.lastIndexOf("ZZZZ") + "ZZZZ".length();
+
+	CompletionResult result = contextComplete(this.workingCopies[0], cursorLocation);
+	
+	assertResults(
+		"completion offset="+(cursorLocation)+"\n" +
+		"completion range=["+(tokenStart)+", "+(tokenEnd)+"]\n" +
+		"completion token=\"ZZZZ\"\n" +
+		"completion token kind=TOKEN_KIND_NAME\n" +
+		"expectedTypesSignatures=null\n" +
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
+		result.context);
+}
+// https://bugs.eclipse.org/bugs/show_bug.cgi?id=202467
+public void test0134() throws JavaModelException {
+	this.workingCopies = new ICompilationUnit[1];
+	this.workingCopies[0] = getWorkingCopy(
+		"/Completion/src3/test/X.java",
+		"package test;\n" + 
+		"public class X {\n" + 
+		"  ZZZZ foo(\n" + 
+		"}");
+	
+	String str = this.workingCopies[0].getSource();
+	int tokenStart = str.lastIndexOf("ZZZZ");
+	int tokenEnd = tokenStart + "ZZZZ".length() - 1;
+	int cursorLocation = str.lastIndexOf("ZZZZ") + "ZZZZ".length();
+
+	CompletionResult result = contextComplete(this.workingCopies[0], cursorLocation);
+	
+	assertResults(
+		"completion offset="+(cursorLocation)+"\n" +
+		"completion range=["+(tokenStart)+", "+(tokenEnd)+"]\n" +
+		"completion token=\"ZZZZ\"\n" +
+		"completion token kind=TOKEN_KIND_NAME\n" +
+		"expectedTypesSignatures=null\n" +
+		"expectedTypesKeys=null\n"+
+		"completion token location={MEMBER_START}",
+		result.context);
+}
+// https://bugs.eclipse.org/bugs/show_bug.cgi?id=202467
+public void test0135() throws JavaModelException {
+	this.workingCopies = new ICompilationUnit[1];
+	this.workingCopies[0] = getWorkingCopy(
+		"/Completion/src3/test/X.java",
+		"package test;\n" + 
+		"public class X {\n" + 
+		"  public void foo() {\n" + 
+		"    ZZZZ\n" + 
+		"  }\n" + 
+		"}");
+	
+	String str = this.workingCopies[0].getSource();
+	int tokenStart = str.lastIndexOf("ZZZZ");
+	int tokenEnd = tokenStart + "ZZZZ".length() - 1;
+	int cursorLocation = str.lastIndexOf("ZZZZ") + "ZZZZ".length();
+
+	CompletionResult result = contextComplete(this.workingCopies[0], cursorLocation);
+	
+	assertResults(
+		"completion offset="+(cursorLocation)+"\n" +
+		"completion range=["+(tokenStart)+", "+(tokenEnd)+"]\n" +
+		"completion token=\"ZZZZ\"\n" +
+		"completion token kind=TOKEN_KIND_NAME\n" +
+		"expectedTypesSignatures=null\n" +
+		"expectedTypesKeys=null\n"+
+		"completion token location={STATEMENT_START}",
+		result.context);
+}
+// https://bugs.eclipse.org/bugs/show_bug.cgi?id=202467
+// enable this test when this case will be supported
+public void test0136() throws JavaModelException {
+	this.workingCopies = new ICompilationUnit[1];
+	this.workingCopies[0] = getWorkingCopy(
+		"/Completion/src3/test/X.java",
+		"package test;\n" + 
+		"public class X {\n" + 
+		"  public void foo() {\n" + 
+		"    final ZZZZ\n" + 
+		"  }\n" + 
+		"}");
+	
+	String str = this.workingCopies[0].getSource();
+	int tokenStart = str.lastIndexOf("ZZZZ");
+	int tokenEnd = tokenStart + "ZZZZ".length() - 1;
+	int cursorLocation = str.lastIndexOf("ZZZZ") + "ZZZZ".length();
+
+	CompletionResult result = contextComplete(this.workingCopies[0], cursorLocation);
+	
+	assertResults(
+		"completion offset="+(cursorLocation)+"\n" +
+		"completion range=["+(tokenStart)+", "+(tokenEnd)+"]\n" +
+		"completion token=\"ZZZZ\"\n" +
+		"completion token kind=TOKEN_KIND_NAME\n" +
+		"expectedTypesSignatures=null\n" +
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
+		result.context);
+}
+// https://bugs.eclipse.org/bugs/show_bug.cgi?id=202467
+public void test0137() throws JavaModelException {
+	this.workingCopies = new ICompilationUnit[1];
+	this.workingCopies[0] = getWorkingCopy(
+		"/Completion/src3/test/X.java",
+		"package test;\n" + 
+		"public class X {\n" + 
+		"  public void foo() {\n" + 
+		"    yyyy.ZZZZ\n" + 
+		"  }\n" + 
+		"}");
+	
+	String str = this.workingCopies[0].getSource();
+	int tokenStart = str.lastIndexOf("ZZZZ");
+	int tokenEnd = tokenStart + "ZZZZ".length() - 1;
+	int cursorLocation = str.lastIndexOf("ZZZZ") + "ZZZZ".length();
+
+	CompletionResult result = contextComplete(this.workingCopies[0], cursorLocation);
+	
+	assertResults(
+		"completion offset="+(cursorLocation)+"\n" +
+		"completion range=["+(tokenStart)+", "+(tokenEnd)+"]\n" +
+		"completion token=\"ZZZZ\"\n" +
+		"completion token kind=TOKEN_KIND_NAME\n" +
+		"expectedTypesSignatures=null\n" +
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
+		result.context);
+}
+// https://bugs.eclipse.org/bugs/show_bug.cgi?id=202467
+public void test0138() throws JavaModelException {
+	this.workingCopies = new ICompilationUnit[1];
+	this.workingCopies[0] = getWorkingCopy(
+		"/Completion/src3/test/X.java",
+		"package test;\n" + 
+		"public class X {\n" + 
+		"  public void foo() {\n" + 
+		"    java.ZZZZ\n" + 
+		"  }\n" + 
+		"}");
+	
+	String str = this.workingCopies[0].getSource();
+	int tokenStart = str.lastIndexOf("ZZZZ");
+	int tokenEnd = tokenStart + "ZZZZ".length() - 1;
+	int cursorLocation = str.lastIndexOf("ZZZZ") + "ZZZZ".length();
+
+	CompletionResult result = contextComplete(this.workingCopies[0], cursorLocation);
+	
+	assertResults(
+		"completion offset="+(cursorLocation)+"\n" +
+		"completion range=["+(tokenStart)+", "+(tokenEnd)+"]\n" +
+		"completion token=\"ZZZZ\"\n" +
+		"completion token kind=TOKEN_KIND_NAME\n" +
+		"expectedTypesSignatures=null\n" +
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
+		result.context);
+}
+// https://bugs.eclipse.org/bugs/show_bug.cgi?id=202467
+public void test0139() throws JavaModelException {
+	this.workingCopies = new ICompilationUnit[1];
+	this.workingCopies[0] = getWorkingCopy(
+		"/Completion/src3/test/X.java",
+		"package test;\n" + 
+		"public class X {\n" + 
+		"  public void foo() {\n" + 
+		"    bar(ZZZZ\n" + 
+		"  }\n" + 
+		"}");
+	
+	String str = this.workingCopies[0].getSource();
+	int tokenStart = str.lastIndexOf("ZZZZ");
+	int tokenEnd = tokenStart + "ZZZZ".length() - 1;
+	int cursorLocation = str.lastIndexOf("ZZZZ") + "ZZZZ".length();
+
+	CompletionResult result = contextComplete(this.workingCopies[0], cursorLocation);
+	
+	assertResults(
+		"completion offset="+(cursorLocation)+"\n" +
+		"completion range=["+(tokenStart)+", "+(tokenEnd)+"]\n" +
+		"completion token=\"ZZZZ\"\n" +
+		"completion token kind=TOKEN_KIND_NAME\n" +
+		"expectedTypesSignatures=null\n" +
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
+		result.context);
+}
+// https://bugs.eclipse.org/bugs/show_bug.cgi?id=202467
+public void test0140() throws JavaModelException {
+	this.workingCopies = new ICompilationUnit[1];
+	this.workingCopies[0] = getWorkingCopy(
+		"/Completion/src3/test/X.java",
+		"package test;\n" + 
+		"public class X {\n" + 
+		"  public void foo() {\n" +
+		"    class Y {\n" + 
+		"      ZZZZ\n" + 
+		"    }\n" + 
+		"  }\n" + 
+		"}");
+	
+	String str = this.workingCopies[0].getSource();
+	int tokenStart = str.lastIndexOf("ZZZZ");
+	int tokenEnd = tokenStart + "ZZZZ".length() - 1;
+	int cursorLocation = str.lastIndexOf("ZZZZ") + "ZZZZ".length();
+
+	CompletionResult result = contextComplete(this.workingCopies[0], cursorLocation);
+	
+	assertResults(
+		"completion offset="+(cursorLocation)+"\n" +
+		"completion range=["+(tokenStart)+", "+(tokenEnd)+"]\n" +
+		"completion token=\"ZZZZ\"\n" +
+		"completion token kind=TOKEN_KIND_NAME\n" +
+		"expectedTypesSignatures=null\n" +
+		"expectedTypesKeys=null\n"+
+		"completion token location={MEMBER_START}",
+		result.context);
+}
+// https://bugs.eclipse.org/bugs/show_bug.cgi?id=202467
+public void test0141() throws JavaModelException {
+	this.workingCopies = new ICompilationUnit[1];
+	this.workingCopies[0] = getWorkingCopy(
+		"/Completion/src3/test/X.java",
+		"package test;\n" + 
+		"public class X {\n" + 
+		"  public void foo() {\n" +
+		"    new Object() {\n" + 
+		"      ZZZZ\n" + 
+		"    };\n" + 
+		"  }\n" + 
+		"}");
+	
+	String str = this.workingCopies[0].getSource();
+	int tokenStart = str.lastIndexOf("ZZZZ");
+	int tokenEnd = tokenStart + "ZZZZ".length() - 1;
+	int cursorLocation = str.lastIndexOf("ZZZZ") + "ZZZZ".length();
+
+	CompletionResult result = contextComplete(this.workingCopies[0], cursorLocation);
+	
+	assertResults(
+		"completion offset="+(cursorLocation)+"\n" +
+		"completion range=["+(tokenStart)+", "+(tokenEnd)+"]\n" +
+		"completion token=\"ZZZZ\"\n" +
+		"completion token kind=TOKEN_KIND_NAME\n" +
+		"expectedTypesSignatures=null\n" +
+		"expectedTypesKeys=null\n"+
+		"completion token location={MEMBER_START}",
+		result.context);
+}
+// https://bugs.eclipse.org/bugs/show_bug.cgi?id=202467
+public void test0142() throws JavaModelException {
+	this.workingCopies = new ICompilationUnit[1];
+	this.workingCopies[0] = getWorkingCopy(
+		"/Completion/src3/test/X.java",
+		"package test;\n" + 
+		"public class X {\n" + 
+		"  {\n" +
+		"    ZZZZ\n" + 
+		"  }\n" + 
+		"}");
+	
+	String str = this.workingCopies[0].getSource();
+	int tokenStart = str.lastIndexOf("ZZZZ");
+	int tokenEnd = tokenStart + "ZZZZ".length() - 1;
+	int cursorLocation = str.lastIndexOf("ZZZZ") + "ZZZZ".length();
+
+	CompletionResult result = contextComplete(this.workingCopies[0], cursorLocation);
+	
+	assertResults(
+		"completion offset="+(cursorLocation)+"\n" +
+		"completion range=["+(tokenStart)+", "+(tokenEnd)+"]\n" +
+		"completion token=\"ZZZZ\"\n" +
+		"completion token kind=TOKEN_KIND_NAME\n" +
+		"expectedTypesSignatures=null\n" +
+		"expectedTypesKeys=null\n"+
+		"completion token location={STATEMENT_START}",
 		result.context);
 }
 }
diff --git a/org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/CompletionContextTests_1_5.java b/org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/CompletionContextTests_1_5.java
index 1919d70..32be1c1 100644
--- a/org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/CompletionContextTests_1_5.java
+++ b/org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/CompletionContextTests_1_5.java
@@ -53,7 +53,8 @@ public void test0001() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0002() throws JavaModelException {
@@ -78,7 +79,8 @@ public void test0002() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0003() throws JavaModelException {
@@ -103,7 +105,8 @@ public void test0003() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0004() throws JavaModelException {
@@ -128,7 +131,8 @@ public void test0004() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0005() throws JavaModelException {
@@ -153,7 +157,8 @@ public void test0005() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0006() throws JavaModelException {
@@ -177,7 +182,8 @@ public void test0006() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0007() throws JavaModelException {
@@ -202,7 +208,8 @@ public void test0007() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0008() throws JavaModelException {
@@ -227,7 +234,8 @@ public void test0008() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0009() throws JavaModelException {
@@ -254,7 +262,8 @@ public void test0009() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0010() throws JavaModelException {
@@ -280,7 +289,8 @@ public void test0010() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0011() throws JavaModelException {
@@ -307,7 +317,8 @@ public void test0011() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0012() throws JavaModelException {
@@ -334,7 +345,8 @@ public void test0012() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0013() throws JavaModelException {
@@ -359,7 +371,8 @@ public void test0013() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0014() throws JavaModelException {
@@ -383,7 +396,8 @@ public void test0014() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0015() throws JavaModelException {
@@ -408,7 +422,8 @@ public void test0015() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0016() throws JavaModelException {
@@ -433,7 +448,8 @@ public void test0016() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0017() throws JavaModelException {
@@ -461,7 +477,8 @@ public void test0017() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures={I}\n" +
-		"expectedTypesKeys={I}",
+		"expectedTypesKeys={I}\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0018() throws JavaModelException {
@@ -489,7 +506,8 @@ public void test0018() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures={I}\n" +
-		"expectedTypesKeys={I}",
+		"expectedTypesKeys={I}\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0019() throws JavaModelException {
@@ -517,7 +535,8 @@ public void test0019() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures={I}\n" +
-		"expectedTypesKeys={I}",
+		"expectedTypesKeys={I}\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0020() throws JavaModelException {
@@ -545,7 +564,8 @@ public void test0020() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures={I}\n" +
-		"expectedTypesKeys={I}",
+		"expectedTypesKeys={I}\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0021() throws JavaModelException {
@@ -574,7 +594,8 @@ public void test0021() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0022() throws JavaModelException {
@@ -603,7 +624,8 @@ public void test0022() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0023() throws JavaModelException {
@@ -632,7 +654,8 @@ public void test0023() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0024() throws JavaModelException {
@@ -661,7 +684,8 @@ public void test0024() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 //https://bugs.eclipse.org/bugs/show_bug.cgi?id=191125
@@ -693,7 +717,65 @@ public void test0025() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
+		result.context);
+}
+// https://bugs.eclipse.org/bugs/show_bug.cgi?id=202467
+public void test0026() throws JavaModelException {
+	this.workingCopies = new ICompilationUnit[1];
+	this.workingCopies[0] = getWorkingCopy(
+		"/Completion/src3/test/X.java",
+		"package test;\n" + 
+		"public class X {\n" + 
+		"  @MyAnnot ZZZZ\n" + 
+		"}");
+	
+	String str = this.workingCopies[0].getSource();
+	int tokenStart = str.lastIndexOf("ZZZZ");
+	int tokenEnd = tokenStart + "ZZZZ".length() - 1;
+	int cursorLocation = str.lastIndexOf("ZZZZ") + "ZZZZ".length();
+
+	CompletionResult result = contextComplete(this.workingCopies[0], cursorLocation);
+	
+	assertResults(
+		"completion offset="+(cursorLocation)+"\n" +
+		"completion range=["+(tokenStart)+", "+(tokenEnd)+"]\n" +
+		"completion token=\"ZZZZ\"\n" +
+		"completion token kind=TOKEN_KIND_NAME\n" +
+		"expectedTypesSignatures=null\n" +
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
+		result.context);
+}
+// https://bugs.eclipse.org/bugs/show_bug.cgi?id=202467
+// enable this test when this case will be supported
+public void test0027() throws JavaModelException {
+	this.workingCopies = new ICompilationUnit[1];
+	this.workingCopies[0] = getWorkingCopy(
+		"/Completion/src3/test/X.java",
+		"package test;\n" + 
+		"public class X {\n" + 
+		"  public void foo() {\n" + 
+		"    @MyAnnot ZZZZ\n" + 
+		"  }\n" + 
+		"}");
+	
+	String str = this.workingCopies[0].getSource();
+	int tokenStart = str.lastIndexOf("ZZZZ");
+	int tokenEnd = tokenStart + "ZZZZ".length() - 1;
+	int cursorLocation = str.lastIndexOf("ZZZZ") + "ZZZZ".length();
+
+	CompletionResult result = contextComplete(this.workingCopies[0], cursorLocation);
+	
+	assertResults(
+		"completion offset="+(cursorLocation)+"\n" +
+		"completion range=["+(tokenStart)+", "+(tokenEnd)+"]\n" +
+		"completion token=\"ZZZZ\"\n" +
+		"completion token kind=TOKEN_KIND_NAME\n" +
+		"expectedTypesSignatures=null\n" +
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 }
diff --git a/org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/CompletionTests.java b/org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/CompletionTests.java
index 98d6666..f4475cb 100644
--- a/org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/CompletionTests.java
+++ b/org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/CompletionTests.java
@@ -15921,7 +15921,8 @@ public void testEvaluationContextCompletion3() throws JavaModelException {
 			"completion token=\"TestEvaluationContextCompletion3\"\n"+
 			"completion token kind=TOKEN_KIND_NAME\n"+
 			"expectedTypesSignatures=null\n"+
-			"expectedTypesKeys=null",
+			"expectedTypesKeys=null\n"+
+			"completion token location={STATEMENT_START}",
             requestor.getContext());
     
 	assertResults(
@@ -15954,7 +15955,8 @@ public void testEvaluationContextCompletion4() throws JavaModelException {
 			"completion token=\"TestEvaluationContextCompletion4\"\n"+
 			"completion token kind=TOKEN_KIND_NAME\n"+
 			"expectedTypesSignatures=null\n"+
-			"expectedTypesKeys=null",
+			"expectedTypesKeys=null\n"+
+			"completion token location={STATEMENT_START}",
             requestor.getContext());
     
 	assertResults(
@@ -15988,7 +15990,8 @@ public void testEvaluationContextCompletion5() throws JavaModelException {
 			"completion token=\"to\"\n"+
 			"completion token kind=TOKEN_KIND_NAME\n"+
 			"expectedTypesSignatures=null\n"+
-			"expectedTypesKeys=null",
+			"expectedTypesKeys=null\n"+
+			"completion token location=UNKNOWN",
             requestor.getContext());
     
 	assertResults(
@@ -16022,7 +16025,8 @@ public void testEvaluationContextCompletion6() throws JavaModelException {
 			"completion token=\"\"\n"+
 			"completion token kind=TOKEN_KIND_NAME\n"+
 			"expectedTypesSignatures=null\n"+
-			"expectedTypesKeys=null",
+			"expectedTypesKeys=null\n"+
+			"completion token location={STATEMENT_START}",
             requestor.getContext());
 	
 	String varClassSignature = getVarClassSignature(context);
diff --git a/org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/CompletionTestsRequestor2.java b/org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/CompletionTestsRequestor2.java
index b101f45..bd2646e 100644
--- a/org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/CompletionTestsRequestor2.java
+++ b/org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/CompletionTestsRequestor2.java
@@ -158,6 +158,29 @@ public class CompletionTestsRequestor2 extends CompletionRequestor {
 			}
 			buffer.append('}');
 		}
+		
+		if(!this.shortContext) {
+			buffer.append('\n');
+			
+			int locationType = this.context.getTokenLocation();
+			if (locationType == 0) {
+				buffer.append("completion token location=UNKNOWN"); //$NON-NLS-1$
+			} else {
+				buffer.append("completion token location={"); //$NON-NLS-1$
+				boolean first = true;
+				if ((locationType & CompletionContext.TL_MEMBER_START) != 0) {
+					if (!first) buffer.append(',');
+					buffer.append("MEMBER_START"); //$NON-NLS-1$
+					first = false;
+				}
+				if ((locationType & CompletionContext.TL_STATEMENT_START) != 0) {
+					if (!first) buffer.append(',');
+					buffer.append("STATEMENT_START"); //$NON-NLS-1$
+					first = false;
+				}
+				buffer.append('}');
+			}
+		}
 		//buffer.append('\n');
 		
 		
diff --git a/org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/CompletionTests_1_5.java b/org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/CompletionTests_1_5.java
index 2e7f694..6511414 100644
--- a/org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/CompletionTests_1_5.java
+++ b/org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/CompletionTests_1_5.java
@@ -10920,7 +10920,8 @@ public void testEC001() throws JavaModelException {
 			"completion token=\"\"\n"+
 			"completion token kind=TOKEN_KIND_NAME\n"+
 			"expectedTypesSignatures={Ljava.lang.Object;}\n"+
-			"expectedTypesKeys={Ljava/lang/Object;}",
+			"expectedTypesKeys={Ljava/lang/Object;}\n"+
+			"completion token location=UNKNOWN",
             requestor.getContext());
     
 	assertResults(
diff --git a/org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/JavadocCompletionContextTests.java b/org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/JavadocCompletionContextTests.java
index 7fdd858..9d7afd3 100644
--- a/org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/JavadocCompletionContextTests.java
+++ b/org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/JavadocCompletionContextTests.java
@@ -60,7 +60,8 @@ public void test0001() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0002() throws JavaModelException {
@@ -87,7 +88,8 @@ public void test0002() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0003() throws JavaModelException {
@@ -114,7 +116,8 @@ public void test0003() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0004() throws JavaModelException {
@@ -141,7 +144,8 @@ public void test0004() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0005() throws JavaModelException {
@@ -168,7 +172,8 @@ public void test0005() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0006() throws JavaModelException {
@@ -195,7 +200,8 @@ public void test0006() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0007() throws JavaModelException {
@@ -222,7 +228,8 @@ public void test0007() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0008() throws JavaModelException {
@@ -249,7 +256,8 @@ public void test0008() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0009() throws JavaModelException {
@@ -276,7 +284,8 @@ public void test0009() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0010() throws JavaModelException {
@@ -303,7 +312,8 @@ public void test0010() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0011() throws JavaModelException {
@@ -330,7 +340,8 @@ public void test0011() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0012() throws JavaModelException {
@@ -357,7 +368,8 @@ public void test0012() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0013() throws JavaModelException {
@@ -384,7 +396,8 @@ public void test0013() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0014() throws JavaModelException {
@@ -411,7 +424,8 @@ public void test0014() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0015() throws JavaModelException {
@@ -438,7 +452,8 @@ public void test0015() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0016() throws JavaModelException {
@@ -465,7 +480,8 @@ public void test0016() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0017() throws JavaModelException {
@@ -492,7 +508,8 @@ public void test0017() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0018() throws JavaModelException {
@@ -519,7 +536,8 @@ public void test0018() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0019() throws JavaModelException {
@@ -546,7 +564,8 @@ public void test0019() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0020() throws JavaModelException {
@@ -573,7 +592,8 @@ public void test0020() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0021() throws JavaModelException {
@@ -601,7 +621,8 @@ public void test0021() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0022() throws JavaModelException {
@@ -629,7 +650,8 @@ public void test0022() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0023() throws JavaModelException {
@@ -657,7 +679,8 @@ public void test0023() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0024() throws JavaModelException {
@@ -685,7 +708,8 @@ public void test0024() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0025() throws JavaModelException {
@@ -713,7 +737,8 @@ public void test0025() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0026() throws JavaModelException {
@@ -741,7 +766,8 @@ public void test0026() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0027() throws JavaModelException {
@@ -769,7 +795,8 @@ public void test0027() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0028() throws JavaModelException {
@@ -797,7 +824,8 @@ public void test0028() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0029() throws JavaModelException {
@@ -825,7 +853,8 @@ public void test0029() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0030() throws JavaModelException {
@@ -853,7 +882,8 @@ public void test0030() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0031() throws JavaModelException {
@@ -881,7 +911,8 @@ public void test0031() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0032() throws JavaModelException {
@@ -909,7 +940,8 @@ public void test0032() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0033() throws JavaModelException {
@@ -937,7 +969,8 @@ public void test0033() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0034() throws JavaModelException {
@@ -965,7 +998,8 @@ public void test0034() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0035() throws JavaModelException {
@@ -993,7 +1027,8 @@ public void test0035() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0036() throws JavaModelException {
@@ -1021,7 +1056,8 @@ public void test0036() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0037() throws JavaModelException {
@@ -1049,7 +1085,8 @@ public void test0037() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0038() throws JavaModelException {
@@ -1077,7 +1114,8 @@ public void test0038() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0039() throws JavaModelException {
@@ -1105,7 +1143,8 @@ public void test0039() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0040() throws JavaModelException {
@@ -1133,7 +1172,8 @@ public void test0040() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0041() throws JavaModelException {
@@ -1161,7 +1201,8 @@ public void test0041() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0042() throws JavaModelException {
@@ -1189,7 +1230,8 @@ public void test0042() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0043() throws JavaModelException {
@@ -1217,7 +1259,8 @@ public void test0043() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0044() throws JavaModelException {
@@ -1245,7 +1288,8 @@ public void test0044() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0045() throws JavaModelException {
@@ -1273,7 +1317,8 @@ public void test0045() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0046() throws JavaModelException {
@@ -1301,7 +1346,8 @@ public void test0046() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0047() throws JavaModelException {
@@ -1329,7 +1375,8 @@ public void test0047() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0048() throws JavaModelException {
@@ -1357,7 +1404,8 @@ public void test0048() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0049() throws JavaModelException {
@@ -1385,7 +1433,8 @@ public void test0049() throws JavaModelException {
 		"completion token=\"@ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0050() throws JavaModelException {
@@ -1413,7 +1462,8 @@ public void test0050() throws JavaModelException {
 		"completion token=\"@\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0051() throws JavaModelException {
@@ -1441,7 +1491,8 @@ public void test0051() throws JavaModelException {
 		"completion token=\"@ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0052() throws JavaModelException {
@@ -1469,7 +1520,8 @@ public void test0052() throws JavaModelException {
 		"completion token=\"@\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0053() throws JavaModelException {
@@ -1497,7 +1549,8 @@ public void test0053() throws JavaModelException {
 		"completion token=\"@ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0054() throws JavaModelException {
@@ -1525,7 +1578,8 @@ public void test0054() throws JavaModelException {
 		"completion token=\"@\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0055() throws JavaModelException {
@@ -1553,7 +1607,8 @@ public void test0055() throws JavaModelException {
 		"completion token=\"@ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0056() throws JavaModelException {
@@ -1581,7 +1636,8 @@ public void test0056() throws JavaModelException {
 		"completion token=\"@\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 }
diff --git a/org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/JavadocCompletionContextTests_1_5.java b/org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/JavadocCompletionContextTests_1_5.java
index dbffe4b..5e0abc6 100644
--- a/org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/JavadocCompletionContextTests_1_5.java
+++ b/org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/JavadocCompletionContextTests_1_5.java
@@ -60,7 +60,8 @@ public void test0001() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0002() throws JavaModelException {
@@ -88,7 +89,8 @@ public void test0002() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0003() throws JavaModelException {
@@ -116,7 +118,8 @@ public void test0003() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 public void test0004() throws JavaModelException {
@@ -144,7 +147,8 @@ public void test0004() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location=UNKNOWN",
 		result.context);
 }
 }
diff --git a/org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/SnippetCompletionContextTests.java b/org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/SnippetCompletionContextTests.java
index d08053d..d98dab0 100644
--- a/org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/SnippetCompletionContextTests.java
+++ b/org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/SnippetCompletionContextTests.java
@@ -70,7 +70,8 @@ public void test0001() throws JavaModelException {
 		"completion token=\"ZZZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location={STATEMENT_START}",
 		result.context);
 }
 public void test0002() throws JavaModelException {
@@ -107,7 +108,8 @@ public void test0002() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location={STATEMENT_START}",
 		result.context);
 }
 public void test0003() throws JavaModelException {
@@ -144,7 +146,8 @@ public void test0003() throws JavaModelException {
 		"completion token=\"ZZ\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location={STATEMENT_START}",
 		result.context);
 }
 public void test0004() throws JavaModelException {
@@ -181,7 +184,8 @@ public void test0004() throws JavaModelException {
 		"completion token=\"\"\n" +
 		"completion token kind=TOKEN_KIND_NAME\n" +
 		"expectedTypesSignatures=null\n" +
-		"expectedTypesKeys=null",
+		"expectedTypesKeys=null\n"+
+		"completion token location={STATEMENT_START}",
 		result.context);
 }
 }
diff --git a/org.eclipse.jdt.core/buildnotes_jdt-core.html b/org.eclipse.jdt.core/buildnotes_jdt-core.html
index daa4b8a..b2fb1f0 100644
--- a/org.eclipse.jdt.core/buildnotes_jdt-core.html
+++ b/org.eclipse.jdt.core/buildnotes_jdt-core.html
@@ -38,11 +38,91 @@
 	</td>
   </tr>
 </table>
+<a name="v_840"></a>
+<hr><h1>
+Eclipse Platform Build Notes<br>
+Java Development Tooling Core</h1>
+Eclipse SDK 3.4M6 - %date% - 3.4 MILESTONE 6
+<br>Project org.eclipse.jdt.core v_840
+(<a href="http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.jdt.core/?only_with_tag=v_840">cvs</a>).
+<h2>What's new in this drop</h2>
+<ul>
+<li>Code Assist: Added API to give information about the completed token location.<br>
+Clients can call <code>CompletionContext#getTokenLocation()</code> to known if the completed token is at the start of the member
+or at the start of a statement. In the future this API could be improved and some others location could be recognized.
+<pre>
+public class CompletionContext {
+	...
+	
+	/**
+	 * The completed token is the first token of a member declaration.<br>
+	 * e.g.
+	 * <pre>
+	 * public class X {
+	 *   Foo| // completion occurs at |
+	 * }
+	 * </pre>
+	 * 
+	 * @see #getTokenLocation()
+	 * 
+	 * @since 3.4
+	 */
+	public static final int TL_MEMBER_START = 1;
+	
+	/**
+	 * The completed token is the first token of a statement.<br>
+	 * e.g.
+	 * <pre>
+	 * public class X {
+	 *   public void bar() {
+	 *     Foo| // completion occurs at |
+	 *   }
+	 * }
+	 * </pre>
+	 * 
+	 * @see #getTokenLocation()
+	 * 
+	 * @since 3.4
+	 */
+	public static final int TL_STATEMENT_START = 2;
+	
+	/**
+	 * Returns the location of completion token being proposed.
+	 * The returned location is a bit mask which can contain some values
+	 * of the constants declared on this class whose name starts with <code>TL</code>,
+	 * or possibly values unknown to the caller.
+	 * 
+	 * <p>
+	 * The set of different location values is expected to change over time.
+	 * It is strongly recommended that clients do <b>not</b> assume that
+	 * the location contains only known value, and code defensively for 
+	 * the possibility of unexpected future growth.
+	 * </p>
+	 * 
+	 * @return the location
+	 * 
+	 * @since 3.4
+	 */
+	public int getTokenLocation() {...}
+	
+	...
+}
+</pre>
+The addition of new lines after annotations has been discussed in <a href="http://bugs.eclipse.org/bugs/show_bug.cgi?id=100278">bug 122247</a><br>
+Also note that previously available code formatter constant FORMATTER_INSERT_NEW_LINE_AFTER_ANNOTATION has been deprecated.<br>
+All new options must be enabled to activate old strategy.
+</li>
+</ul>
+
+<h3>Problem Reports Fixed</h3>
+<a href="http://bugs.eclipse.org/bugs/show_bug.cgi?id=202467">202467</a>
+[assist] provide info what is completed
+
 <a name="v_839"></a>
 <hr><h1>
 Eclipse Platform Build Notes<br>
 Java Development Tooling Core</h1>
-Eclipse SDK 3.4M6 - February 22, 2008 - 3.4 MILESTONE 6
+Eclipse SDK 3.4M6 - February 22, 2008
 <br>Project org.eclipse.jdt.core v_839
 (<a href="http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.jdt.core/?only_with_tag=v_839">cvs</a>).
 <h2>What's new in this drop</h2>
diff --git a/org.eclipse.jdt.core/codeassist/org/eclipse/jdt/internal/codeassist/CompletionEngine.java b/org.eclipse.jdt.core/codeassist/org/eclipse/jdt/internal/codeassist/CompletionEngine.java
index 9f6abb7..eb9337b 100644
--- a/org.eclipse.jdt.core/codeassist/org/eclipse/jdt/internal/codeassist/CompletionEngine.java
+++ b/org.eclipse.jdt.core/codeassist/org/eclipse/jdt/internal/codeassist/CompletionEngine.java
@@ -913,12 +913,67 @@ public final class CompletionEngine
 			context.setTokenKind(CompletionContext.TOKEN_KIND_NAME);
 		}
 		
+		buildTokenLocationContext(context, scope, astNode, astNodeParent);
+		
 		if(DEBUG) {
 			System.out.println(context.toString());
 		}
 		this.requestor.acceptContext(context);
 	}
 	
+	private void buildTokenLocationContext(CompletionContext context, Scope scope, ASTNode astNode, ASTNode astNodeParent) {
+		if (scope == null || context.isInJavadoc()) return;
+		
+		if (astNode instanceof CompletionOnFieldType) {
+			CompletionOnFieldType field = (CompletionOnFieldType) astNode;
+			if (!field.isLocalVariable &&
+					field.modifiers == ClassFileConstants.AccDefault &&
+					(field.annotations == null || field.annotations.length == 0)) {
+				context.setTokenLocation(CompletionContext.TL_MEMBER_START);
+			}
+		} else if (astNode instanceof CompletionOnMethodReturnType) {
+			CompletionOnMethodReturnType method = (CompletionOnMethodReturnType) astNode;
+			if (method.modifiers == ClassFileConstants.AccDefault &&
+					(method.annotations == null || method.annotations.length == 0)) {
+				context.setTokenLocation(CompletionContext.TL_MEMBER_START);
+			}
+		} else {
+			ReferenceContext referenceContext = scope.referenceContext();
+			if (referenceContext instanceof AbstractMethodDeclaration) {
+				AbstractMethodDeclaration methodDeclaration = (AbstractMethodDeclaration)referenceContext;
+				if (methodDeclaration.bodyStart <= astNode.sourceStart &&
+						astNode.sourceEnd <= methodDeclaration.bodyEnd) {
+					// completion is inside a method body
+					if (astNodeParent == null &&
+							astNode instanceof CompletionOnSingleNameReference &&
+							!((CompletionOnSingleNameReference)astNode).isPrecededByModifiers) {
+						context.setTokenLocation(CompletionContext.TL_STATEMENT_START);
+					}
+				}
+			} else if (referenceContext instanceof TypeDeclaration) {
+				TypeDeclaration typeDeclaration = (TypeDeclaration) referenceContext;
+				FieldDeclaration[] fields = typeDeclaration.fields;
+				if (fields != null) {
+					done : for (int i = 0; i < fields.length; i++) {
+						if (fields[i] instanceof Initializer) {
+							Initializer initializer = (Initializer) fields[i];
+							if (initializer.block.sourceStart <= astNode.sourceStart &&
+									astNode.sourceStart < initializer.bodyEnd) {
+								// completion is inside an initializer
+								if (astNodeParent == null &&
+										astNode instanceof CompletionOnSingleNameReference &&
+										!((CompletionOnSingleNameReference)astNode).isPrecededByModifiers) {
+									context.setTokenLocation(CompletionContext.TL_STATEMENT_START);
+								}
+								break done;
+							}
+						}
+					}
+				}
+			}
+		}
+	}
+
 	private boolean complete(ASTNode astNode, ASTNode astNodeParent, ASTNode enclosingNode, Binding qualifiedBinding, Scope scope, boolean insideTypeAnnotation) {
 
 		setSourceAndTokenRange(astNode.sourceStart, astNode.sourceEnd);
diff --git a/org.eclipse.jdt.core/codeassist/org/eclipse/jdt/internal/codeassist/InternalCompletionContext.java b/org.eclipse.jdt.core/codeassist/org/eclipse/jdt/internal/codeassist/InternalCompletionContext.java
index 9620823b..c3249ef 100644
--- a/org.eclipse.jdt.core/codeassist/org/eclipse/jdt/internal/codeassist/InternalCompletionContext.java
+++ b/org.eclipse.jdt.core/codeassist/org/eclipse/jdt/internal/codeassist/InternalCompletionContext.java
@@ -25,6 +25,7 @@ public class InternalCompletionContext {
 	protected int tokenEnd = -1;
 	protected char[] token = null;
 	protected int tokenKind;
+	protected int tokenLocation;
 	
 	protected void setExpectedTypesSignatures(char[][] expectedTypesSignatures) {
 		this.expectedTypesSignatures = expectedTypesSignatures;
@@ -64,4 +65,8 @@ public class InternalCompletionContext {
 	protected void setTokenKind(int tokenKind) {
 		this.tokenKind = tokenKind;
 	}
+	
+	protected void setTokenLocation(int tokenLocation) {
+		this.tokenLocation = tokenLocation;
+	}
 }
diff --git a/org.eclipse.jdt.core/codeassist/org/eclipse/jdt/internal/codeassist/complete/CompletionOnSingleNameReference.java b/org.eclipse.jdt.core/codeassist/org/eclipse/jdt/internal/codeassist/complete/CompletionOnSingleNameReference.java
index 2526806..006a48c 100644
--- a/org.eclipse.jdt.core/codeassist/org/eclipse/jdt/internal/codeassist/complete/CompletionOnSingleNameReference.java
+++ b/org.eclipse.jdt.core/codeassist/org/eclipse/jdt/internal/codeassist/complete/CompletionOnSingleNameReference.java
@@ -39,6 +39,7 @@ public class CompletionOnSingleNameReference extends SingleNameReference {
 	public char[][] possibleKeywords;
 	public boolean canBeExplicitConstructor;
 	public boolean isInsideAnnotationAttribute;
+	public boolean isPrecededByModifiers;
 
 	public CompletionOnSingleNameReference(char[] source, long pos, boolean isInsideAnnotationAttribute) {
 		this(source, pos, null, false, isInsideAnnotationAttribute);
diff --git a/org.eclipse.jdt.core/codeassist/org/eclipse/jdt/internal/codeassist/complete/CompletionParser.java b/org.eclipse.jdt.core/codeassist/org/eclipse/jdt/internal/codeassist/complete/CompletionParser.java
index 5ffda40..8739d7e 100644
--- a/org.eclipse.jdt.core/codeassist/org/eclipse/jdt/internal/codeassist/complete/CompletionParser.java
+++ b/org.eclipse.jdt.core/codeassist/org/eclipse/jdt/internal/codeassist/complete/CompletionParser.java
@@ -74,6 +74,7 @@ public class CompletionParser extends AssistParser {
 	protected static final int K_LABEL = COMPLETION_PARSER + 36;
 	protected static final int K_MEMBER_VALUE_ARRAY_INITIALIZER = COMPLETION_PARSER + 37;
 	protected static final int K_CONTROL_STATEMENT_DELIMITER = COMPLETION_PARSER + 38;
+	protected static final int K_INSIDE_ASSERT_EXCEPTION = COMPLETION_PARSER + 39;
 
 	public final static char[] FAKE_TYPE_NAME = new char[]{' '};
 	public final static char[] FAKE_METHOD_NAME = new char[]{' '};
@@ -129,6 +130,9 @@ public class CompletionParser extends AssistParser {
 	// last modifiers info
 	int lastModifiers = ClassFileConstants.AccDefault;
 	int lastModifiersStart = -1;
+	
+	// used to find if there is unused modifiers when building completion inside a method or an initializer
+	boolean hasUnusedModifiers;
 
 	// depth of '(', '{' and '[]'
 	int bracketDepth;
@@ -244,6 +248,18 @@ protected void attachOrphanCompletionNode(){
 					}
 
 					CompletionOnFieldType fieldDeclaration = new CompletionOnFieldType(fieldType, false);
+					
+					// retrieve annotations if any
+					int length;
+					if ((length = this.expressionLengthStack[this.expressionLengthPtr]) != 0 &&
+							this.expressionStack[this.expressionPtr] instanceof Annotation) {
+						System.arraycopy(
+							this.expressionStack,
+							this.expressionPtr - length + 1,
+							fieldDeclaration.annotations = new Annotation[length],
+							0,
+							length);
+					}
 
 					// retrieve available modifiers if any
 					if (intPtr >= 2 && intStack[intPtr-1] == this.lastModifiersStart && intStack[intPtr-2] == this.lastModifiers){
@@ -939,6 +955,42 @@ private void buildMoreCompletionContext(Expression expression) {
 					assistNodeParent = switchStatement;
 				}
 				break;
+			case K_BETWEEN_IF_AND_RIGHT_PAREN :
+				IfStatement ifStatement = new IfStatement(expression, new EmptyStatement(expression.sourceEnd, expression.sourceEnd), expression.sourceStart, expression.sourceEnd);
+				assistNodeParent = ifStatement;
+				break nextElement;
+			case K_BETWEEN_WHILE_AND_RIGHT_PAREN :
+				WhileStatement whileStatement = new WhileStatement(expression, new EmptyStatement(expression.sourceEnd, expression.sourceEnd), expression.sourceStart, expression.sourceEnd);
+				assistNodeParent = whileStatement;
+				break nextElement;
+			case K_BETWEEN_SWITCH_AND_RIGHT_PAREN:
+				SwitchStatement switchStatement = new SwitchStatement();
+				switchStatement.expression = expression;
+				switchStatement.statements = new Statement[0];
+				assistNodeParent = switchStatement;
+				break nextElement;
+			case K_BETWEEN_SYNCHRONIZED_AND_RIGHT_PAREN :
+				SynchronizedStatement synchronizedStatement = new SynchronizedStatement(expression, new Block(0), expression.sourceStart, expression.sourceEnd);
+				assistNodeParent = synchronizedStatement;
+				break nextElement;
+			case K_INSIDE_THROW_STATEMENT:
+				if(info == bracketDepth) {
+					ThrowStatement throwStatement = new ThrowStatement(expression, expression.sourceStart, expression.sourceEnd);
+					assistNodeParent = throwStatement;
+				}
+				break nextElement;
+			case K_INSIDE_ASSERT_STATEMENT:
+				if(info == bracketDepth) {
+					AssertStatement assertStatement = new AssertStatement(expression, expression.sourceStart);
+					assistNodeParent = assertStatement;
+				}
+				break nextElement;
+			case K_INSIDE_ASSERT_EXCEPTION:
+				if(info == bracketDepth) {
+					AssertStatement assertStatement = new AssertStatement(expression, new TrueLiteral(expression.sourceStart, expression.sourceStart), expression.sourceStart);
+					assistNodeParent = assertStatement;
+				}
+				break nextElement;
 		}
 	}
 	if(assistNodeParent != null) {
@@ -1087,6 +1139,13 @@ public int bodyEnd(AbstractMethodDeclaration method){
 public int bodyEnd(Initializer initializer){
 	return cursorLocation;
 }
+protected void checkAndSetModifiers(int flag) {
+	super.checkAndSetModifiers(flag);
+	
+	if (this.isInsideMethod()) {
+		this.hasUnusedModifiers = true;
+	}
+}
 /**
  * Checks if the completion is on the exception type of a catch clause.
  * Returns whether we found a completion node.
@@ -1526,6 +1585,10 @@ private boolean checkNameCompletion() {
 	this.assistNode = getUnspecifiedReferenceOptimized();
 	this.lastCheckPoint = this.assistNode.sourceEnd + 1;
 	this.isOrphanCompletionNode = true;
+	if (this.hasUnusedModifiers &&
+			this.assistNode instanceof CompletionOnSingleNameReference) {
+		((CompletionOnSingleNameReference)this.assistNode).isPrecededByModifiers = true;
+	}
 	return true;
 }
 private boolean checkParemeterizedMethodName() {
@@ -1968,6 +2031,7 @@ protected void consumeClassDeclaration() {
 }
 protected void consumeClassHeaderName1() {
 	super.consumeClassHeaderName1();
+	this.hasUnusedModifiers = false;
 	if (this.pendingAnnotation != null) {
 		this.pendingAnnotation.potentialAnnotatedNode = this.astStack[this.astPtr];
 		this.pendingAnnotation = null;
@@ -2106,6 +2170,7 @@ protected void consumeEnhancedForStatement() {
 }
 protected void consumeEnhancedForStatementHeaderInit(boolean hasModifiers) {
 	super.consumeEnhancedForStatementHeaderInit(hasModifiers);
+	this.hasUnusedModifiers = false;
 	if (this.pendingAnnotation != null) {
 		this.pendingAnnotation.potentialAnnotatedNode = this.astStack[this.astPtr];
 		this.pendingAnnotation = null;
@@ -2123,6 +2188,8 @@ protected void consumeEnterVariable() {
 	boolean isLocalDeclaration = nestedMethod[nestedType] != 0;
 	int variableIndex = variablesCounter[nestedType];
 	int extendedDimension = intStack[intPtr + 1];
+	
+	this.hasUnusedModifiers = false;
 
 	if(isLocalDeclaration || indexOfAssistIdentifier() < 0 || variableIndex != 0 || extendedDimension != 0) {
 		identifierPtr++;
@@ -2168,6 +2235,16 @@ protected void consumeEnterVariable() {
 				}
 
 				FieldDeclaration completionFieldDecl = new CompletionOnFieldType(type, false);
+				// consume annotations
+				int length;
+				if ((length = this.expressionLengthStack[this.expressionLengthPtr--]) != 0) {
+					System.arraycopy(
+						this.expressionStack,
+						(this.expressionPtr -= length) + 1,
+						completionFieldDecl.annotations = new Annotation[length],
+						0,
+						length);
+				}
 				completionFieldDecl.modifiers = intStack[intPtr--];
 				assistNode = completionFieldDecl;
 				lastCheckPoint = type.sourceEnd + 1;
@@ -2194,6 +2271,7 @@ protected void consumeEnumConstantHeaderName() {
 }
 protected void consumeEnumHeaderName() {
 	super.consumeEnumHeaderName();
+	this.hasUnusedModifiers = false;
 	if (this.pendingAnnotation != null) {
 		this.pendingAnnotation.potentialAnnotatedNode = this.astStack[this.astPtr];
 		this.pendingAnnotation = null;
@@ -2429,6 +2507,7 @@ protected void consumeInstanceOfExpressionWithName() {
 }
 protected void consumeInterfaceHeaderName1() {
 	super.consumeInterfaceHeaderName1();
+	this.hasUnusedModifiers = false;
 	if (this.pendingAnnotation != null) {
 		this.pendingAnnotation.potentialAnnotatedNode = this.astStack[this.astPtr];
 		this.pendingAnnotation = null;
@@ -2672,6 +2751,13 @@ protected void consumeMethodHeaderExtendedDims() {
 		}
 	}
 }
+protected void consumeAnnotationAsModifier() {
+	super.consumeAnnotationAsModifier();
+	
+	if (this.isInsideMethod()) {
+		this.hasUnusedModifiers = true;
+	}
+}
 protected void consumeAnnotationName() {
 	int index;
 
@@ -2728,6 +2814,7 @@ protected void consumeAnnotationName() {
 }
 protected void consumeAnnotationTypeDeclarationHeaderName() {
 	super.consumeAnnotationTypeDeclarationHeaderName();
+	this.hasUnusedModifiers = false;
 	if (this.pendingAnnotation != null) {
 		this.pendingAnnotation.potentialAnnotatedNode = this.astStack[this.astPtr];
 		this.pendingAnnotation = null;
@@ -2735,6 +2822,7 @@ protected void consumeAnnotationTypeDeclarationHeaderName() {
 }
 protected void consumeAnnotationTypeDeclarationHeaderNameWithTypeParameters() {
 	super.consumeAnnotationTypeDeclarationHeaderNameWithTypeParameters();
+	this.hasUnusedModifiers = false;
 	if (this.pendingAnnotation != null) {
 		this.pendingAnnotation.potentialAnnotatedNode = this.astStack[this.astPtr];
 		this.pendingAnnotation = null;
@@ -3256,6 +3344,12 @@ protected void consumeToken(int token) {
 							popElement(K_INSIDE_ASSERT_STATEMENT);
 						}
 						break;
+					case K_INSIDE_ASSERT_EXCEPTION :
+						if(topKnownElementInfo(COMPLETION_OR_ASSIST_PARSER) == this.bracketDepth) {
+							popElement(K_INSIDE_ASSERT_EXCEPTION);
+							popElement(K_INSIDE_ASSERT_STATEMENT);
+						}
+						break;
 					case K_INSIDE_BREAK_STATEMENT:
 						if(topKnownElementInfo(COMPLETION_OR_ASSIST_PARSER) == this.bracketDepth) {
 							popElement(K_INSIDE_BREAK_STATEMENT);
@@ -3357,16 +3451,22 @@ protected void consumeToken(int token) {
 				}
 				break;
 			case TokenNameCOLON:
-				if(topKnownElementKind(COMPLETION_OR_ASSIST_PARSER) == K_CONDITIONAL_OPERATOR
-					&& topKnownElementInfo(COMPLETION_OR_ASSIST_PARSER) == QUESTION) {
-					popElement(K_CONDITIONAL_OPERATOR);
-					pushOnElementStack(K_CONDITIONAL_OPERATOR, COLON);
-				} else {
-					if(topKnownElementKind(COMPLETION_OR_ASSIST_PARSER) == K_BETWEEN_CASE_AND_COLON) {
+				switch (topKnownElementKind(COMPLETION_OR_ASSIST_PARSER)) {
+					case K_CONDITIONAL_OPERATOR:
+						if (topKnownElementInfo(COMPLETION_OR_ASSIST_PARSER) == QUESTION) {
+							popElement(K_CONDITIONAL_OPERATOR);
+							pushOnElementStack(K_CONDITIONAL_OPERATOR, COLON);
+						}
+						break;
+					case K_BETWEEN_CASE_AND_COLON:
 						popElement(K_BETWEEN_CASE_AND_COLON);
-					} else {
+						break;
+					case K_BETWEEN_DEFAULT_AND_COLON:
 						popElement(K_BETWEEN_DEFAULT_AND_COLON);
-					}
+						break;
+					case K_INSIDE_ASSERT_STATEMENT:
+						pushOnElementStack(K_INSIDE_ASSERT_EXCEPTION, this.bracketDepth);
+						break;
 				}
 				break;
 			case TokenNameif:
@@ -3439,6 +3539,10 @@ protected void consumeToken(int token) {
 		}
 	}
 }
+protected void consumeOnlySynchronized() {
+	super.consumeOnlySynchronized();
+	this.hasUnusedModifiers = false;
+}
 protected void consumeOnlyTypeArguments() {
 	super.consumeOnlyTypeArguments();
 	popElement(K_BINARY_OPERATOR);
@@ -4238,22 +4342,6 @@ private void pushCompletionOnMemberAccessOnExpressionStack(boolean isSuperAccess
 		expressionStack[expressionPtr] = fr;
 	}
 }
-public void recordCompletionOnReference(){
-
-	if (currentElement instanceof RecoveredType){
-		RecoveredType recoveredType = (RecoveredType)currentElement;
-
-		/* filter out cases where scanner is still inside type header */
-		if (!recoveredType.foundOpeningBrace) return;
-
-		/* generate a pseudo field with a completion on type reference */
-		currentElement.add(
-			new CompletionOnFieldType(this.getTypeReference(0), false), 0);
-		return;
-	}
-	if (!diet) return; // only record references attached to types
-
-}
 private void recordReference(NameReference nameReference) {
 	if (!this.skipRecord &&
 			this.recordFrom <= nameReference.sourceStart &&
@@ -4345,6 +4433,7 @@ public void resetAfterCompletion() {
  * decide which grammar goal is activated.
  */
 protected boolean resumeAfterRecovery() {
+	this.hasUnusedModifiers = false;
 	if (this.assistNode != null) {
 		/* if reached [eof] inside method body, but still inside nested type,
 			or inside a field initializer, should continue in diet mode until
diff --git a/org.eclipse.jdt.core/model/org/eclipse/jdt/core/CompletionContext.java b/org.eclipse.jdt.core/model/org/eclipse/jdt/core/CompletionContext.java
index e07e3cb..2b89547 100644
--- a/org.eclipse.jdt.core/model/org/eclipse/jdt/core/CompletionContext.java
+++ b/org.eclipse.jdt.core/model/org/eclipse/jdt/core/CompletionContext.java
@@ -146,6 +146,27 @@ public final class CompletionContext extends InternalCompletionContext {
 	}
 	
 	/**
+	 * Returns the location of completion token being proposed.
+	 * The returned location is a bit mask which can contain some values
+	 * of the constants declared on this class whose name starts with <code>TL</code>,
+	 * or possibly values unknown to the caller.
+	 * 
+	 * <p>
+	 * The set of different location values is expected to change over time.
+	 * It is strongly recommended that clients do <b>not</b> assume that
+	 * the location contains only known value, and code defensively for 
+	 * the possibility of unexpected future growth.
+	 * </p>
+	 * 
+	 * @return the location
+	 * 
+	 * @since 3.4
+	 */
+	public int getTokenLocation() {
+		return this.tokenLocation;
+	}
+	
+	/**
 	 * Returns the character index of the start of the
 	 * subrange in the source file buffer containing the
 	 * relevant token being completed. This
@@ -189,6 +210,39 @@ public final class CompletionContext extends InternalCompletionContext {
 		return this.offset;
 	}
 	
+	
+	/**
+	 * The completed token is the first token of a member declaration.<br>
+	 * e.g.
+	 * <pre>
+	 * public class X {
+	 *   Foo| // completion occurs at |
+	 * }
+	 * </pre>
+	 * 
+	 * @see #getTokenLocation()
+	 * 
+	 * @since 3.4
+	 */
+	public static final int TL_MEMBER_START = 1;
+	
+	/**
+	 * The completed token is the first token of a statement.<br>
+	 * e.g.
+	 * <pre>
+	 * public class X {
+	 *   public void bar() {
+	 *     Foo| // completion occurs at |
+	 *   }
+	 * }
+	 * </pre>
+	 * 
+	 * @see #getTokenLocation()
+	 * 
+	 * @since 3.4
+	 */
+	public static final int TL_STATEMENT_START = 2;
+	
 	public String toString() {
 		StringBuffer buffer = new StringBuffer();
 		
@@ -240,6 +294,25 @@ public final class CompletionContext extends InternalCompletionContext {
 			buffer.append('}');
 		}
 		buffer.append('\n');
+		
+		if (tokenLocation == 0) {
+			buffer.append("locationType=UNKNOWN"); //$NON-NLS-1$
+		} else {
+			buffer.append("locationType={"); //$NON-NLS-1$
+			boolean first = true;
+			if ((tokenLocation & CompletionContext.TL_MEMBER_START) != 0) {
+				if (!first) buffer.append(',');
+				buffer.append("MEMBER_START"); //$NON-NLS-1$
+				first = false;
+			}
+			if ((tokenLocation & CompletionContext.TL_STATEMENT_START) != 0) {
+				if (!first) buffer.append(',');
+				buffer.append("STATEMENT_START"); //$NON-NLS-1$
+				first = false;
+			}
+			buffer.append('}');
+		}
+		buffer.append('\n');
 			
 		return buffer.toString();
 	}
